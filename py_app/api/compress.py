# RA, 2019-01-22
# Compress and decompress a JSON object

# License: CC0 -- "No rights reserved"

# For zlib license, see https://docs.python.org/3/license.html
import zlib
import json, base64

from . import getplanning

ZIPJSON_KEY = 'base64(zip(o))'

def json_zip(j):

    j = {
        ZIPJSON_KEY: base64.b64encode(
            zlib.compress(
                json.dumps(j).encode('utf-8')
            )
        ).decode('ascii')
    }

    return str(j)


inputString='''[{"id": "33049524", "title": "CNB2 en B304 \nCIR2 en C854 \n - ISEN B304     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n10:15 - 11:20\nMonsieur DUBOIS", "start": "2022-09-16T10:15:00+0200", "end": "2022-09-16T11:20:00+0200", "allDay": false, "editable": true, "className": "est-epreuve"}, {"id": "26965592", "title": " - ISEN A913     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n13:30 - 14:30\nMonsieur CHEBIB", "start": "2022-09-16T13:30:00+0200", "end": "2022-09-16T14:30:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32919559", "title": " - ISEN A913     (H)\nSciences et Soci\u00e9t\u00e9\n14:35 - 15:35\nMadame DIENER", "start": "2022-09-16T14:35:00+0200", "end": "2022-09-16T15:35:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32947943", "title": " - ISEN C956     (H)\nProgrammation 3 : Orient\u00e9e Objet\n08:00 - 10:05\nMonsieur MOSBAH", "start": "2022-09-19T08:00:00+0200", "end": "2022-09-19T10:05:00+0200", "allDay": false, "editable": true, "className": "TP"}, {"id": "32916658", "title": " - ISEN C601  - Vid\u00e9oProj\nSciences et Soci\u00e9t\u00e9\n10:20 - 12:25\nMadame DIENER", "start": "2022-09-19T10:20:00+0200", "end": "2022-09-19T12:25:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32939716", "title": " - ISEN C405 - Amphi Pr\u00e9pa - Vid\u00e9oProj\nCulture G\u00e9n\u00e9rale + Expression \u00e9crite et orale\n15:50 - 17:55\nMonsieur DELANGUE", "start": "2022-09-19T15:50:00+0200", "end": "2022-09-19T17:55:00+0200", "allDay": false, "editable": true, "className": "COURS_TD"}, {"id": "32913200", "title": " - ISEN A811\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n08:00 - 10:05\nMonsieur CALABRESE", "start": "2022-09-20T08:00:00+0200", "end": "2022-09-20T10:05:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "26952539", "title": " - ISEN A906\nAnglais S1\n10:20 - 12:25\nMonsieur MCGAVIGAN", "start": "2022-09-20T10:20:00+0200", "end": "2022-09-20T12:25:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32948160", "title": " - ISEN C953 - Salle de TP\nProgrammation 3 : Orient\u00e9e Objet\n13:30 - 15:35\nMonsieur MOSBAH", "start": "2022-09-20T13:30:00+0200", "end": "2022-09-20T15:35:00+0200", "allDay": false, "editable": true, "className": "TP"}, {"id": "32947292", "title": " - ISEN B506     (H)\nProgrammation 3 : Orient\u00e9e Objet\n13:30 - 15:35\nMonsieur MOSBAH", "start": "2022-09-21T13:30:00+0200", "end": "2022-09-21T15:35:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32912091", "title": " - ISEN C402 - Amphi Pr\u00e9pa - Vid\u00e9oProj\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n15:50 - 17:55\nMonsieur DUBOIS", "start": "2022-09-21T15:50:00+0200", "end": "2022-09-21T17:55:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32915269", "title": " - ISEN C601  - Vid\u00e9oProj\nElectromagn\u00e9tisme\n08:00 - 10:05\nMonsieur SCOTTEZ", "start": "2022-09-22T08:00:00+0200", "end": "2022-09-22T10:05:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32912339", "title": " - ISEN B305     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n10:20 - 12:25\nMonsieur DUBOIS", "start": "2022-09-22T10:20:00+0200", "end": "2022-09-22T12:25:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "33050199", "title": " - ISEN C854 - Salle DS\nProgrammation 3 : Orient\u00e9e Objet\n10:15 - 11:20\nMadame VEILLON", "start": "2022-09-23T10:15:00+0200", "end": "2022-09-23T11:20:00+0200", "allDay": false, "editable": true, "className": "est-epreuve"}, {"id": "26965601", "title": " - ISEN A913     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n13:30 - 14:30\nMonsieur CHEBIB", "start": "2022-09-23T13:30:00+0200", "end": "2022-09-23T14:30:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32919568", "title": " - ISEN A913     (H)\nElectromagn\u00e9tisme\n14:35 - 15:35\nMonsieur SCOTTEZ", "start": "2022-09-23T14:35:00+0200", "end": "2022-09-23T15:35:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32947952", "title": " - ISEN C956     (H)\nProgrammation 3 : Orient\u00e9e Objet\n08:00 - 10:05\n ", "start": "2022-09-26T08:00:00+0200", "end": "2022-09-26T10:05:00+0200", "allDay": false, "editable": true, "className": "TP"}, {"id": "32916667", "title": " - ISEN C601  - Vid\u00e9oProj\nElectromagn\u00e9tisme\n10:20 - 12:25\nMonsieur SCOTTEZ", "start": "2022-09-26T10:20:00+0200", "end": "2022-09-26T12:25:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32939725", "title": " - ISEN C405 - Amphi Pr\u00e9pa - Vid\u00e9oProj\nCulture G\u00e9n\u00e9rale + Expression \u00e9crite et orale\n15:50 - 17:55\nMonsieur DELANGUE", "start": "2022-09-26T15:50:00+0200", "end": "2022-09-26T17:55:00+0200", "allDay": false, "editable": true, "className": "COURS_TD"}, {"id": "32913211", "title": " - ISEN A811\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n08:00 - 10:05\nMonsieur CALABRESE", "start": "2022-09-27T08:00:00+0200", "end": "2022-09-27T10:05:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "26952549", "title": " - ISEN A906\nAnglais S1\n10:20 - 12:25\nMonsieur MCGAVIGAN", "start": "2022-09-27T10:20:00+0200", "end": "2022-09-27T12:25:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32948169", "title": " - ISEN C953 - Salle de TP\nProgrammation 3 : Orient\u00e9e Objet\n13:30 - 15:35\n ", "start": "2022-09-27T13:30:00+0200", "end": "2022-09-27T15:35:00+0200", "allDay": false, "editable": true, "className": "TP"}, {"id": "30724046", "title": " - ISEN C956     (H)\nMath\u00e9matiques Pratiques S1\n15:50 - 17:55\nMonsieur CAPIOD", "start": "2022-09-27T15:50:00+0200", "end": "2022-09-27T17:55:00+0200", "allDay": false, "editable": true, "className": "est-epreuve"}, {"id": "32940864", "title": " - ISEN A919\nD\u00e9veloppement Web\n08:00 - 10:05\n ", "start": "2022-09-28T08:00:00+0200", "end": "2022-09-28T10:05:00+0200", "allDay": false, "editable": true, "className": "COURS_TD"}, {"id": "32947301", "title": " - ISEN B506     (H)\nProgrammation 3 : Orient\u00e9e Objet\n13:30 - 15:35\nMonsieur MOSBAH", "start": "2022-09-28T13:30:00+0200", "end": "2022-09-28T15:35:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32911940", "title": " - ISEN C402 - Amphi Pr\u00e9pa - Vid\u00e9oProj\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n15:50 - 17:55\nMonsieur DUBOIS", "start": "2022-09-28T15:50:00+0200", "end": "2022-09-28T17:55:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32915280", "title": " - ISEN C601  - Vid\u00e9oProj\nElectromagn\u00e9tisme\n08:00 - 10:05\nMonsieur SCOTTEZ", "start": "2022-09-29T08:00:00+0200", "end": "2022-09-29T10:05:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32912351", "title": " - ISEN B305     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n10:20 - 12:25\nMonsieur DUBOIS", "start": "2022-09-29T10:20:00+0200", "end": "2022-09-29T12:25:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "33050232", "title": " - ISEN B304     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n10:15 - 11:20\nMonsieur DUBOIS", "start": "2022-09-30T10:15:00+0200", "end": "2022-09-30T11:20:00+0200", "allDay": false, "editable": true, "className": "est-epreuve"}, {"id": "26965610", "title": " - ISEN A913     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n13:30 - 14:30\nMonsieur CHEBIB", "start": "2022-09-30T13:30:00+0200", "end": "2022-09-30T14:30:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32919577", "title": " - ISEN A913     (H)\nElectromagn\u00e9tisme\n14:35 - 15:35\nMonsieur SCOTTEZ", "start": "2022-09-30T14:35:00+0200", "end": "2022-09-30T15:35:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32947961", "title": " - ISEN A919\nProgrammation 3 : Orient\u00e9e Objet\n08:00 - 10:05\n ", "start": "2022-10-03T08:00:00+0200", "end": "2022-10-03T10:05:00+0200", "allDay": false, "editable": true, "className": "TP"}, {"id": "32916676", "title": " - ISEN C601  - Vid\u00e9oProj\nElectromagn\u00e9tisme\n10:20 - 12:25\nMonsieur SCOTTEZ", "start": "2022-10-03T10:20:00+0200", "end": "2022-10-03T12:25:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32939734", "title": " - ISEN C405 - Amphi Pr\u00e9pa - Vid\u00e9oProj\nCulture G\u00e9n\u00e9rale + Expression \u00e9crite et orale\n15:50 - 17:55\nMadame GACHES-FOURCROY", "start": "2022-10-03T15:50:00+0200", "end": "2022-10-03T17:55:00+0200", "allDay": false, "editable": true, "className": "COURS_TD"}, {"id": "32913680", "title": " - ISEN A411 Salle de TP Informatique - Vid\u00e9oProj\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n08:00 - 10:05\nMonsieur CALABRESE", "start": "2022-10-04T08:00:00+0200", "end": "2022-10-04T10:05:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "26952559", "title": " - ISEN A906\nAnglais S1\n10:20 - 12:25\nMonsieur MCGAVIGAN", "start": "2022-10-04T10:20:00+0200", "end": "2022-10-04T12:25:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32948178", "title": " - ISEN A919\nProgrammation 3 : Orient\u00e9e Objet\n13:30 - 15:35\n ", "start": "2022-10-04T13:30:00+0200", "end": "2022-10-04T15:35:00+0200", "allDay": false, "editable": true, "className": "TP"}, {"id": "32940873", "title": " - ISEN A919\nD\u00e9veloppement Web\n08:00 - 10:05\n ", "start": "2022-10-05T08:00:00+0200", "end": "2022-10-05T10:05:00+0200", "allDay": false, "editable": true, "className": "COURS_TD"}, {"id": "32947310", "title": " - ISEN B802     (H)\nProgrammation 3 : Orient\u00e9e Objet\n13:30 - 15:35\nMonsieur MOSBAH", "start": "2022-10-05T13:30:00+0200", "end": "2022-10-05T15:35:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32912118", "title": " - ISEN C402 - Amphi Pr\u00e9pa - Vid\u00e9oProj\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n15:50 - 17:55\nMonsieur DUBOIS", "start": "2022-10-05T15:50:00+0200", "end": "2022-10-05T17:55:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32915291", "title": " - HEI Amphi J001 H micro main/cravate\nElectromagn\u00e9tisme\n08:00 - 10:05\nMonsieur SCOTTEZ", "start": "2022-10-06T08:00:00+0200", "end": "2022-10-06T10:05:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32912363", "title": " - ISEN B305     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n10:20 - 12:25\nMonsieur DUBOIS", "start": "2022-10-06T10:20:00+0200", "end": "2022-10-06T12:25:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "33050951", "title": " - ISEN B304     (H)\nElectromagn\u00e9tisme\n10:15 - 11:20\nMonsieur SCOTTEZ", "start": "2022-10-07T10:15:00+0200", "end": "2022-10-07T11:20:00+0200", "allDay": false, "editable": true, "className": "est-epreuve"}, {"id": "26965619", "title": " - ISEN A913     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n13:30 - 14:30\nMonsieur CHEBIB", "start": "2022-10-07T13:30:00+0200", "end": "2022-10-07T14:30:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32919586", "title": " - ISEN A913     (H)\nElectromagn\u00e9tisme\n14:35 - 15:35\nMonsieur SCOTTEZ", "start": "2022-10-07T14:35:00+0200", "end": "2022-10-07T15:35:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32947970", "title": " - ISEN A919\nProgrammation 3 : Orient\u00e9e Objet\n08:00 - 10:05\n ", "start": "2022-10-10T08:00:00+0200", "end": "2022-10-10T10:05:00+0200", "allDay": false, "editable": true, "className": "TP"}, {"id": "32916685", "title": " - ISEN C601  - Vid\u00e9oProj\nElectromagn\u00e9tisme\n10:20 - 12:25\nMonsieur SCOTTEZ", "start": "2022-10-10T10:20:00+0200", "end": "2022-10-10T12:25:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32939744", "title": " - ISEN C405 - Amphi Pr\u00e9pa - Vid\u00e9oProj\nCulture G\u00e9n\u00e9rale + Expression \u00e9crite et orale\n15:50 - 17:55\nMadame GACHES-FOURCROY", "start": "2022-10-10T15:50:00+0200", "end": "2022-10-10T17:55:00+0200", "allDay": false, "editable": true, "className": "COURS_TD"}, {"id": "32913757", "title": " - ISEN A411 Salle de TP Informatique - Vid\u00e9oProj\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n08:00 - 10:05\nMonsieur CALABRESE", "start": "2022-10-11T08:00:00+0200", "end": "2022-10-11T10:05:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "26952569", "title": " - ISEN A906\nAnglais S1\n10:20 - 12:25\nMonsieur MCGAVIGAN", "start": "2022-10-11T10:20:00+0200", "end": "2022-10-11T12:25:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32948187", "title": " - ISEN A919\nProgrammation 3 : Orient\u00e9e Objet\n13:30 - 15:35\n ", "start": "2022-10-11T13:30:00+0200", "end": "2022-10-11T15:35:00+0200", "allDay": false, "editable": true, "className": "TP"}, {"id": "30724064", "title": " - ISEN C956     (H)\nMath\u00e9matiques Pratiques S1\n15:50 - 17:55\nMonsieur CAPIOD", "start": "2022-10-11T15:50:00+0200", "end": "2022-10-11T17:55:00+0200", "allDay": false, "editable": true, "className": "est-epreuve"}, {"id": "32940882", "title": " - ISEN A919\nD\u00e9veloppement Web\n08:00 - 10:05\n ", "start": "2022-10-12T08:00:00+0200", "end": "2022-10-12T10:05:00+0200", "allDay": false, "editable": true, "className": "COURS_TD"}, {"id": "32947319", "title": " - ISEN C304 - Amphi JND     (H)\nProgrammation 3 : Orient\u00e9e Objet\n13:30 - 15:35\nMonsieur MOSBAH", "start": "2022-10-12T13:30:00+0200", "end": "2022-10-12T15:35:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32912131", "title": " - ISEN C402 - Amphi Pr\u00e9pa - Vid\u00e9oProj\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n15:50 - 17:55\nMonsieur DUBOIS", "start": "2022-10-12T15:50:00+0200", "end": "2022-10-12T17:55:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32915302", "title": " - ISEN C601  - Vid\u00e9oProj\nElectromagn\u00e9tisme\n08:00 - 10:05\nMonsieur SCOTTEZ", "start": "2022-10-13T08:00:00+0200", "end": "2022-10-13T10:05:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "32912375", "title": " - ISEN B305     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n10:20 - 12:25\nMonsieur DUBOIS", "start": "2022-10-13T10:20:00+0200", "end": "2022-10-13T12:25:00+0200", "allDay": false, "editable": true, "className": "CM"}, {"id": "33051044", "title": " - ISEN C854 - Salle DS\nProgrammation 3 : Orient\u00e9e Objet\n10:15 - 12:20\nMadame VEILLON", "start": "2022-10-14T10:15:00+0200", "end": "2022-10-14T12:20:00+0200", "allDay": false, "editable": true, "className": "est-epreuve"}, {"id": "26965628", "title": " - ISEN A913     (H)\nMath\u00e9matiques 5 : Calcul diff\u00e9rentiel\n13:30 - 14:30\nMonsieur CHEBIB", "start": "2022-10-14T13:30:00+0200", "end": "2022-10-14T14:30:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32919595", "title": " - ISEN A913     (H)\nElectromagn\u00e9tisme\n14:35 - 15:35\nMonsieur SCOTTEZ", "start": "2022-10-14T14:35:00+0200", "end": "2022-10-14T15:35:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32947979", "title": " - ISEN C956     (H)\nProgrammation 3 : Orient\u00e9e Objet\n08:00 - 10:05\n ", "start": "2022-10-17T08:00:00+0200", "end": "2022-10-17T10:05:00+0200", "allDay": false, "editable": true, "className": "TP"}, {"id": "32916694", "title": " - ISEN C601  - Vid\u00e9oProj\nElectromagn\u00e9tisme\n10:20 - 12:25\nMonsieur SCOTTEZ", "start": "2022-10-17T10:20:00+0200", "end": "2022-10-17T12:25:00+0200", "allDay": false, "editable": true, "className": "TD"}, {"id": "32939753", "title": " - ISEN C405 - Amphi Pr\u00e9pa - Vid\u00e9oProj\nCulture G\u00e9n\u00e9rale + Expression \u00e9crite et orale\n15:50 - 17:55\nMadame GACHES-FOURCROY", "start": "2022-10-17T15:50:00+0200", "end": "2022-10-17T17:55:00+0200", "allDay": false, "editable": true, "className": "COURS_TD"}]'''


def main(start,end,username,password):
    inputString = getplanning.main(start,end,username,password)
    # print(len(inputString))
    
    datacompress = json_zip(inputString)
    # print(datacompress)
    # print(json_unzip(datacompress))
    # print((datacompress))
    return datacompress
  
